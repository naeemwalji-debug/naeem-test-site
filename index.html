<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Portfolio Header</title>

  <!-- Preload Unicorn Studio for faster loading -->
  <link rel="preconnect" href="https://cdn.jsdelivr.net" crossorigin>
  <link rel="preload" href="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v2.0.4/dist/unicornStudio.umd.js" as="script">
  
  <!-- Load Unicorn Studio script early in head -->
  <script src="https://cdn.jsdelivr.net/gh/hiunicornstudio/unicornstudio.js@v2.0.4/dist/unicornStudio.umd.js"></script>

  <!-- Google Font: Zalando Sans Expanded -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Zalando+Sans+Expanded:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">

  <!-- Adobe Fonts: Selfie Neue Round -->
  <link rel="stylesheet" href="https://use.typekit.net/ijw2rnp.css">

  <style>
    :root{
      --cornerInset: 25px;   /* distance from edges for + signs */
      --plusSize: 30px;      /* your + size */
      --navClearance: 18px;  /* extra breathing room from the rotating + */
      --contentInset: 55px;  /* where nav/copyright sit (cornerInset + plusSize) */
    }
    
    @media (max-width: 768px) {
      :root {
        --cornerInset: 15px;   /* + signs 15px from edge on mobile */
        --plusSize: 20px;
        --navClearance: 12px;
        --contentInset: 35px; /* nav/copyright at 15px + 20px = 35px */
      }
    }

    * { margin: 0; padding: 0; box-sizing: border-box; }
    html { overflow-y: scroll; overflow-x: hidden; background: #1a1a1a; }
    body { background: #000; overflow-x: hidden; }
    
    /* Custom scrollbar - dark style for consistency */
    ::-webkit-scrollbar {
      width: 12px;
    }
    ::-webkit-scrollbar-track {
      background: #1a1a1a;
    }
    ::-webkit-scrollbar-thumb {
      background: #4a4a4a;
      border-radius: 0;
    }
    ::-webkit-scrollbar-thumb:hover {
      background: #5a5a5a;
    }
    
    /* Firefox scrollbar */
    * {
      scrollbar-width: thin;
      scrollbar-color: #4a4a4a #1a1a1a;
    }
    
    /* Pages container */
    #pagesWrapper {
      position: relative;
      background: #fff;
    }

    /* About Section */
    #about {
      position: relative;
      width: 100%;
      height: 100vh;
      background: #fff;
      z-index: 10;
      box-shadow: 0 -20px 60px rgba(0,0,0,0.3);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: visible;
      padding: 0 55px; /* Add padding for margins */
      box-sizing: border-box;
    }
    .about-container {
      position: relative;
      overflow: visible;
      max-width: 1164px;
      width: 100%;
    }
    .about-title {
      position: absolute;
      left: -40px; /* Compensate for the 40px padding to align visually */
      bottom: calc(100% + 13px); /* Base overlap for small screens */
      color: #a6a6a6;
      font-family: "selfie-neue-round", "Brush Script MT", cursive;
      font-weight: 700;
      font-size: 115px;
      line-height: 0.9;
      word-wrap: break-word;
      z-index: 1;
      white-space: nowrap;
      overflow: visible;
      padding: 20px 40px;
      margin: -20px -40px;
      pointer-events: none;
    }
    .about-body {
      position: relative;
      width: 100%;
      max-width: 1164px;
      color: #000;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 700;
      font-size: clamp(20px, 3vw, 36px); /* Responsive font size */
      line-height: 1.03;
      text-transform: uppercase;
      word-wrap: break-word;
      z-index: 2;
    }
    .about-body p { margin: 0; }
    .about-body p + p { margin-top: 1em; }

    /* Work Section */
    #work {
      position: relative;
      width: 100%;
      min-height: 100vh;
      background: #000;
      z-index: 20;
      box-shadow: 0 -20px 60px rgba(0,0,0,0.5);
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      box-sizing: border-box;
    }
    .work-container {
      position: relative;
      overflow: visible;
      width: 100%;
      max-width: 1200px;
      padding: 0 55px;
      box-sizing: border-box;
    }
    .work-title {
      position: absolute;
      left: 15px;
      bottom: calc(100% + 18px);
      color: #666666;
      font-family: "selfie-neue-round", "Brush Script MT", cursive;
      font-weight: 700;
      font-size: 115px;
      line-height: 0.9;
      word-wrap: break-word;
      z-index: 1;
      white-space: nowrap;
      overflow: visible;
      padding: 20px 40px;
      margin: -20px -40px;
      pointer-events: none;
    }
    .work-grid {
      position: relative;
      display: grid;
      grid-template-columns: repeat(3, 1fr);
      gap: 0;
      width: 100%;
      z-index: 2;
    }
    .work-item {
      aspect-ratio: 16 / 9;
    }
    
    /* Responsive Work grid */
    @media (max-width: 768px) {
      .work-grid {
        grid-template-columns: repeat(2, 1fr);
      }
      #unicorn-desktop {
        visibility: hidden;
        opacity: 0;
        pointer-events: none;
      }
      #unicorn-mobile {
        visibility: visible;
        opacity: 1;
      }
      .mobile-break {
        display: block;
      }
    }
    
    /* Desktop: show desktop version, hide mobile */
    @media (min-width: 769px) {
      #unicorn-desktop {
        visibility: visible;
        opacity: 1;
      }
      #unicorn-mobile {
        visibility: hidden;
        opacity: 0;
        pointer-events: none;
      }
      .mobile-break {
        display: none;
      }
    }
    
    /* Mobile: show immediately without waiting for interaction */
    @media (max-width: 768px) {
      #unicorn-wrapper {
        opacity: 1 !important;
      }
      
      /* Stack names vertically centered and justified */
      .name {
        position: absolute;
        left: 50% !important;
        transform: translateX(-50%) !important;
        text-align: justify;
        text-align-last: justify;
        width: 250px;
        font-size: clamp(36px, 8vw, 50px) !important; /* 25% larger */
        letter-spacing: 0 !important;
      }
      
      /* Name overlaps NW - moved up to center the unit */
      #nameLeft {
        top: calc(50% - 50px) !important;
      }
      
      #nameRight {
        top: calc(50% - 50px + 1.0em) !important;
      }
      
      /* NW graphic - moved up to center as unit with name */
      #unicorn-mobile {
        top: calc(50% - 105px) !important;
        transform: translate(-50%, -50%) !important;
      }
      
      /* Descriptor - centered between WALJI and arrow, same line-height as menu */
      #descriptor {
        font-size: 14.67px !important;
        letter-spacing: 2px !important;
        text-align: center;
        line-height: 16px !important;
        white-space: nowrap !important;
      }
      
      #descriptor .mobile-break {
        display: block;
      }
    }
    
    /* Increase title overlap on larger screens */
    @media (min-width: 1024px) {
      .about-title {
        bottom: calc(100% - 37px);
      }
      .work-title {
        bottom: calc(100% - 32px);
      }
    }
    
    /* Spacer */
    #headerSpacer {
      height: 100vh;
      width: 100%;
    }

    #header {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100vh;
      background: #000;
      overflow: hidden;
      z-index: 1;
    }

    .cornerMarks {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: difference;
    }
    .cornerMarks line {
      stroke: #fff;
      stroke-width: 1;
      shape-rendering: crispEdges;
      vector-effect: non-scaling-stroke;
    }

    .site-nav{
      position: fixed;
      left: var(--contentInset);
      top: var(--contentInset);
      z-index: 9999;
      mix-blend-mode: difference;

      display: flex;
      flex-direction: column;

      font-family: "Zalando Sans Expanded", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 700;

      font-size: 13.33px;
      line-height: 16px;
      letter-spacing: 0.53px;

      text-transform: uppercase;
    }
    
    
    .site-nav a {
      position: relative;
      display: block;
    }
    
    .nav-text {
      position: relative;
      z-index: 1;
    }
    
    .nav-indicator {
      position: absolute;
      left: -1px;
      top: 50%;
      transform: translateY(-50%);
      height: 18px;
      background: #fff;
      pointer-events: none;
      z-index: 0;
      width: 0;
    }

    .site-nav a{
      color: rgba(255,255,255,0.95);
      text-decoration: none;
      display: block;
      padding: 0;
      user-select: none;
    }

    .site-nav a:hover{
      color: #fff;
    }

    /* === Names === */
    .name {
      position: absolute;
      top: 50%;
      transform: translate(-50%, -50%);
      pointer-events: none;
      z-index: 0;

      font-family: "Zalando Sans Expanded", sans-serif;
      font-optical-sizing: auto;
      font-weight: 700;
      font-style: normal;

      font-size: clamp(22px, 3vw, 40px);
      letter-spacing: 0.40em;
      color: #ffffff;
      text-transform: uppercase;
      opacity: 0.95;
      white-space: nowrap;
    }
    
    .name .letter {
      display: inline-block;
      opacity: 0;
      animation: letterFadeIn 0.9s cubic-bezier(0.25, 0.1, 0.25, 1) forwards;
      animation-delay: calc(var(--delay) * 0.2s + 0.3s);
      will-change: opacity, transform;
      backface-visibility: hidden;
    }
    
    @keyframes letterFadeIn {
      0% {
        opacity: 0;
        transform: translateY(8px) translateZ(0);
      }
      100% {
        opacity: 1;
        transform: translateY(0) translateZ(0);
      }
    }

    #descriptor{
      position: absolute;
      left: 50%;
      transform: translateX(-50%);
      z-index: 0; /* under the trail canvas (trail is z-index: 1) */

      font-family: "Zalando Sans Expanded", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 400; /* Regular */
      font-size: 18.67px;
      letter-spacing: 0.75px;
      line-height: 20.67px; /* 15.5pt */
      text-transform: uppercase;
      text-align: center;

      color: rgba(255,255,255,0.9);
      pointer-events: none;
      
      /* Fade in descriptor after names */
      opacity: 0;
      animation: fadeIn 0.8s ease forwards;
      animation-delay: 1.8s;
    }
    
    @keyframes fadeIn {
      to { opacity: 0.9; }
    }

    #downArrow{
      position: fixed;
      left: 50%;
      bottom: 30px;
      transform: translateX(-50%);
      width: 40px;
      height: 20px;
      pointer-events: none;
      z-index: 9999;
      mix-blend-mode: difference;
    }

    #downArrow line{
      stroke: #fff;
      stroke-width: 1;
      shape-rendering: crispEdges;
      vector-effect: non-scaling-stroke;
    }
    
    .copyright {
      position: fixed;
      right: var(--contentInset);
      bottom: var(--contentInset);
      z-index: 10001;
      mix-blend-mode: difference;
      pointer-events: none;
      
      display: flex;
      flex-direction: column;
      align-items: center;
      text-align: center;
      
      font-family: "Zalando Sans Expanded", system-ui, -apple-system, Segoe UI, Roboto, Arial, sans-serif;
      font-weight: 700;
      font-size: 11px; /* 14.67 * 0.75 = 11 */
      line-height: 12px; /* 16 * 0.75 = 12 */
      letter-spacing: 1.5px; /* 2 * 0.75 = 1.5 */
      color: #fff;
    }
    
    .copyright-logo {
      margin-top: 1.5px; /* 2 * 0.75 = 1.5 */
    }
    
    /* Project Detail Page */
    .project-detail {
      position: fixed;
      top: 100vh;
      left: 0;
      width: 100%;
      height: 100vh;
      z-index: 10000; /* Above menu and all other elements */
      transition: top 1.2s cubic-bezier(0.4, 0, 0.2, 1);
      display: flex;
      overflow: hidden;
      overscroll-behavior: contain;
      pointer-events: none;
    }
    
    .project-detail.open {
      top: 0;
      pointer-events: auto;
    }
    
    .project-detail-left {
      width: 33.33%;
      min-width: 500px;
      height: 100%;
      background: #fff;
      padding: 50px;
      box-sizing: border-box;
      position: relative;
      overflow-y: auto;
      overscroll-behavior: contain;
    }
    
    .project-detail-right {
      flex: 1;
      height: 100%;
      background: #000;
      padding: 50px;
      padding-bottom: 100px; /* Extra space to clear copyright */
      box-sizing: border-box;
      display: block;
      overflow-y: auto;
      position: relative;
      overscroll-behavior: contain;
    }
    
    .project-detail-right::-webkit-scrollbar {
      width: 12px;
    }
    
    .project-detail-right::-webkit-scrollbar-track {
      background: #1a1a1a;
    }
    
    .project-detail-right::-webkit-scrollbar-thumb {
      background: #888;
      border-radius: 6px;
    }
    
    .project-detail-right::-webkit-scrollbar-thumb:hover {
      background: #aaa;
    }
    
    .project-detail-arrow {
      position: fixed;
      bottom: 30px;
      left: calc(33.33% + (100% - 33.33%) / 2);
      transform: translateX(-50%);
      width: 40px;
      height: 20px;
      z-index: 10001;
      opacity: 0;
      transition: opacity 0.3s ease;
      pointer-events: none;
    }
    
    .project-detail.open .project-detail-arrow.visible {
      opacity: 1;
    }
    
    .project-detail-arrow line {
      stroke: #fff;
      stroke-width: 1;
      shape-rendering: crispEdges;
      vector-effect: non-scaling-stroke;
    }
    
    .project-detail-right .project-media {
      width: 100%;
      aspect-ratio: 16/9;
    }
    
    .project-detail-right .project-media iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    
    .project-back {
      color: #000;
      text-decoration: none;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 400;
      font-size: 13.33px;
      text-transform: uppercase;
      letter-spacing: 0.53px;
      line-height: 16px;
      cursor: pointer;
      margin-bottom: 50px;
      display: inline-flex;
      align-items: center;
      gap: 0;
      padding: 10px;
      margin-left: -10px;
      margin-top: -10px;
    }
    
    .project-back-arrow {
      width: 20px;
      height: 10px;
      margin-right: 3px;
      margin-left: -23px;
      transform: rotate(90deg);
    }
    
    .project-back-arrow polyline {
      fill: none;
      stroke: #000;
      stroke-width: 1.5;
      stroke-linecap: round;
      stroke-linejoin: round;
    }
    
    .project-back:hover {
      opacity: 0.7;
    }
    
    .project-title {
      color: #a6a6a6;
      font-family: "selfie-neue-round", "Brush Script MT", cursive;
      font-weight: 700;
      font-size: 115px;
      line-height: 0.7;
      margin-left: -27px;
      margin-top: 13px;
      margin-bottom: 0;
    }
    
    .project-subtitle {
      color: #000;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 700;
      font-size: 36px;
      text-transform: uppercase;
      line-height: 37px;
      margin-top: -25px; /* Overlap bottom of title */
      margin-bottom: 50px; /* 50px gap before description */
    }
    
    .project-description {
      color: #000;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 400;
      font-size: 18.67px;
      line-height: 20.67px;
      letter-spacing: 0.75px;
      text-transform: uppercase;
      margin: 0;
      width: 100%;
      padding-right: 50px;
      box-sizing: border-box;
    }
    
    .project-credits {
      display: flex;
      flex-direction: row;
      align-items: flex-end;
      gap: 40px;
      position: absolute;
      bottom: 50px;
      left: 50px;
    }
    
    .project-credit-column {
      display: flex;
      flex-direction: column;
      gap: 0;
    }
    
    .project-credit-label {
      color: #000;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 400;
      font-size: 13.33px;
      line-height: 16px;
      letter-spacing: 0.53px;
      text-transform: uppercase;
      display: block;
      margin-bottom: 0;
    }
    
    .project-credit-list {
      color: #000;
      font-family: "Zalando Sans Expanded", sans-serif;
      font-weight: 700;
      font-size: 13.33px;
      line-height: 16px;
      letter-spacing: 0.53px;
      text-transform: uppercase;
    }
    
    .project-credit-list span {
      display: block;
    }
    
    .project-down-arrow {
      display: none; /* Hidden by default, shown on mobile */
      width: 20px;
      height: 10px;
      margin: 20px auto 5px auto;
    }
    
    .project-down-arrow line {
      stroke: #000;
      stroke-width: 1;
      shape-rendering: crispEdges;
      vector-effect: non-scaling-stroke;
    }
    
    /* Responsive project detail */
    @media (max-width: 1024px) {
      .project-detail-left {
        min-width: 350px;
      }
      
      .project-title {
        font-size: 80px;
        margin-left: -18px;
      }
      
      .project-subtitle {
        font-size: 28px;
      }
    }
    
    @media (max-width: 768px) {
      .project-detail {
        flex-direction: column;
        overflow-y: scroll;
        overflow-x: hidden;
        -webkit-overflow-scrolling: touch;
        overscroll-behavior: contain;
      }
      
      .project-detail-left {
        width: 100%;
        min-width: unset;
        height: auto;
        padding: 0;
        flex-shrink: 0;
        overflow: visible;
        position: relative;
      }
      
      .project-detail-header-mobile {
        position: sticky;
        top: 0;
        background: #fff;
        z-index: 10;
        padding: 30px;
        padding-bottom: 0;
      }
      
      .project-detail-content-mobile {
        padding: 0 30px 30px 30px;
        position: relative;
        background: #fff;
      }
      
      .project-detail-right {
        width: 100%;
        height: auto;
        padding: 0 30px 100px 30px;
        flex-shrink: 0;
        overflow: visible;
      }
      
      .project-title {
        font-size: 60px;
        margin-left: -12px;
        margin-top: 0;
      }
      
      .project-subtitle {
        font-size: 24px;
        margin-bottom: 20px;
        margin-top: -21px;
      }
      
      .project-credits {
        flex-direction: column;
        gap: 20px;
        position: relative;
        bottom: auto;
        left: auto;
        margin-top: 40px;
        margin-bottom: 0;
      }
      
      .project-down-arrow {
        display: block;
        position: fixed;
        bottom: 30px; /* Align with copyright bottom margin */
        left: 50%;
        transform: translateX(-50%);
        z-index: 5;
      }
      
      .project-down-arrow line {
        stroke: #fff;
      }
      
      .project-detail-arrow {
        display: none;
      }
      
      .project-description {
        padding-right: 0;
        font-size: 14.67px;
        line-height: 16px;
        letter-spacing: 2px;
        margin-bottom: 0;
      }
      
      .project-back {
        margin-bottom: 40px;
        font-size: 11px;
        line-height: 14px;
      }
      
      .project-credit-label,
      .project-credit-list {
        font-size: 11px;
        line-height: 14px;
      }
      
      .project-credit-list span {
        display: inline;
      }
      
      .project-credit-list span:not(:last-child)::after {
        content: " / ";
      }
      
      /* Nav - smaller font on mobile */
      .site-nav {
        font-size: 11px;
        line-height: 14px;
      }
      
      /* Down arrow - smaller margins */
      #downArrow {
        bottom: 25px;
      }
      
      /* About section - smaller padding */
      #about {
        padding: 0 25px;
      }
      
      .about-title {
        font-size: 60px;
        left: -15px;
        padding: 10px 15px;
        margin: -10px -15px;
        bottom: calc(100% - 20px); /* Move down 1px */
      }
      
      /* Work section - smaller padding */
      #work {
        padding: 0 25px;
      }
      
      .work-title {
        font-size: 60px;
        left: 5px;
        bottom: calc(100% - 17px); /* Move down 1px */
      }
    }
    
    /* Extra small screens */
    @media (max-width: 375px) {
      .site-nav {
        font-size: 10px;
        line-height: 12px;
      }
      
      #downArrow {
        bottom: 20px;
      }
      
      #about {
        padding: 0 20px;
      }
      
      #work {
        padding: 0 20px;
      }
      
      .about-title,
      .work-title {
        font-size: 55px;
      }
      
      .project-detail-left,
      .project-detail-right {
        padding: 20px;
      }
      
      .project-title {
        font-size: 45px;
        margin-left: -8px;
      }
      
      .project-subtitle {
        font-size: 18px;
      }
      
      .project-description {
        font-size: 14px;
        line-height: 16px;
      }
    }
  </style>
</head>
<body>
  <div id="header">
    <div id="unicorn-wrapper" style="position: absolute; inset: 0; width: 100%; height: 100%; opacity: 0; transition: opacity 0.6s ease;">
      <!-- Desktop version -->
      <div id="unicorn-desktop" style="position: absolute; inset: 0; width: 100%; height: 100%;">
        <div data-us-project="IBucRrDfjuXD6saiKULP" style="width: 100%; height: 100%;"></div>
      </div>
      <!-- Mobile version - centered fixed size -->
      <div id="unicorn-mobile" style="position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); width: 100%; max-width: 393px; height: 852px;">
        <div data-us-project="pb6EA2BpdpU2zK3wNcpU" style="width: 100%; max-width: 393px; height: 852px;"></div>
      </div>
    </div>

    <!-- Names with individual letters for animation -->
    <div id="nameLeft" class="name">
      <span class="letter" style="--delay: 0">N</span>
      <span class="letter" style="--delay: 1">A</span>
      <span class="letter" style="--delay: 2">E</span>
      <span class="letter" style="--delay: 3">E</span>
      <span class="letter" style="--delay: 4">M</span>
    </div>
    <div id="nameRight" class="name">
      <span class="letter" style="--delay: 4">W</span>
      <span class="letter" style="--delay: 3">A</span>
      <span class="letter" style="--delay: 2">L</span>
      <span class="letter" style="--delay: 1">J</span>
      <span class="letter" style="--delay: 0">I</span>
    </div>
    <div id="descriptor">FREELANCE <span class="mobile-break"></span>CREATIVE / ART DIRECTOR</div>
  </div>

  <!-- Fixed UI elements - OUTSIDE header so not clipped -->
  <svg id="cornerMarks" class="cornerMarks">
    <g id="plusTL"><line/><line/></g>
    <g id="plusTR"><line/><line/></g>
    <g id="plusBL"><line/><line/></g>
    <g id="plusBR"><line/><line/></g>
  </svg>

  <svg id="downArrow" viewBox="0 0 40 20">
    <line id="arrowLeft"/>
    <line id="arrowRight"/>
  </svg>

  <nav class="site-nav" aria-label="Primary">
    <a href="#header" id="navHome"><span class="nav-indicator"></span><span class="nav-text">HOME</span></a>
    <a href="#about" id="navAbout"><span class="nav-indicator"></span><span class="nav-text">ABOUT ME</span></a>
    <a href="#work" id="navWork"><span class="nav-indicator"></span><span class="nav-text">WORK</span></a>
    <a href="#contact" id="navContact"><span class="nav-indicator"></span><span class="nav-text">CONTACT</span></a>
  </nav>

  <!-- Temporary margin guides -->

  <div class="copyright">
    <span>Â©</span>
    <span>2026</span>
    <svg class="copyright-logo" viewBox="0 0 231.15 124.56" xmlns="http://www.w3.org/2000/svg">
      <path 
        fill="#fff"
        d="M38.66,0C17.7,0,0,16.72,0,36.5c0,16.47,12.7,29.86,28.32,29.86,14.08,0,25.54-10.49,25.54-23.38,0-3.72-.78-7.15-2.13-9.41-1.93-3.36-5.18-5.31-8.9-5.31-1.63,0-3.23.39-4.63,1.14-4.1,2.17-5.64,6.72-3.65,10.82.13.25.49,1.06.49,1.99,0,3.19-3.08,5.79-6.87,5.79-5.24,0-9.5-5.02-9.5-11.2,0-9.92,9.16-18.3,19.99-18.3,12.43,0,20.46,8.33,20.46,21.23,0,5.8-1.9,13.1-5.49,21.1l-22.07,48.15c-1.35,2.98-1.61,5.95-.73,8.61.81,2.46,2.58,4.47,4.87,5.52,1.21.55,2.5.83,3.84.83,4.1,0,7.75-2.6,9.76-6.95l24.39-53.11c5.73-12.57,11.59-18.67,17.91-18.67,2.63,0,3.48.88,3.48,3.63,0,2.56-1.07,6.4-2.85,10.27l-13.92,30.46c-1.93,4.12-3,9.12-3,14.07,0,12.7,8.81,20.91,22.45,20.91,8.25,0,15.92-3.01,22.85-8.95,3.79,5.66,10.44,8.95,18.36,8.95,15.25,0,27.52-10.55,37.5-32.26l13.07-28.41c5.73-12.57,11.59-18.67,17.91-18.67,2.47.26,3.24,1.45,3.48,3.63,0,2.56-1.07,6.4-2.85,10.26l-.02.03v.03s-.06.1-.06.1l-.02.04v.04c-2.17,5.53.8,10.2,4.84,11.95,1.31.57,2.67.85,4.03.85,3.97,0,7.7-2.47,9.52-6.29,3.07-6.29,4.76-13.05,4.76-19.01,0-12.7-8.15-20.91-20.76-20.91-6.17,0-13.01,2.26-19.24,6.37-7.12,4.69-12.95,11.47-16.87,19.62v.02s-.02.02-.02.02l-14.91,32.8c-6.42,14.13-13.2,21.59-19.6,21.59-.73,0-3.18-.11-4.12-1.58-1.06-1.64-.57-5.01,1.34-9.24l21.92-47.38c1.64-3.66,1.41-7.37-.64-10.21-1.73-2.39-4.56-3.82-7.57-3.82-.33,0-.65.02-.98.05-3.62.37-6.62,2.67-8.25,6.31l-20.67,45.05c-4.31,9.4-12.4,20.37-21,20.37-2.46-.08-5.05-1.01-5.02-3.79,0-1.34.37-2.8,1.12-4.45l14.68-31.84c3.06-6.28,4.74-13.02,4.74-18.97,0-12.7-8.15-20.91-20.76-20.91-6.07,0-11.54,1.97-16.58,5.99C74.99,13.19,59.09,0,38.66,0h0Z"
      />
    </svg>
  </div>

  <!-- Initialize Unicorn Studio -->
  <script type="text/javascript">
    let unicornRevealed = false;
    
    // Show effect on first mouse move
    function onFirstMouseMoveForUnicorn() {
      if (unicornRevealed) return;
      unicornRevealed = true;
      
      const wrapper = document.getElementById('unicorn-wrapper');
      if (wrapper) {
        wrapper.style.opacity = '1';
      }
      
      // Remove listener after first move
      document.removeEventListener('mousemove', onFirstMouseMoveForUnicorn);
    }
    
    // Listen for first mouse move
    document.addEventListener('mousemove', onFirstMouseMoveForUnicorn);
    
    // Script already loaded in head, just init
    if (window.UnicornStudio && UnicornStudio.init) {
      UnicornStudio.init().then(function(scenes) {
        console.log('Unicorn Studio loaded');
        // Effect will fade in on first mouse move, not here
      }).catch(function(err) {
        console.log('Unicorn init error:', err);
      });
    }
  </script>
  
  <script>
    // Let browser handle hash navigation naturally on reload
    if ('scrollRestoration' in history) {
      history.scrollRestoration = 'auto';
    }
    
    // Helper to safely update URL hash (fails silently in sandboxed iframes)
    function updateHash(hash) {
      try {
        if (window.location.hash !== hash) {
          history.replaceState(null, null, hash);
        }
      } catch (e) {
        // Ignore SecurityError in sandboxed environments
      }
    }
    
    const nameLeftEl = document.getElementById("nameLeft");
    const nameRightEl = document.getElementById("nameRight");

    let width, height;

    function updateNamePositions() {
      width = document.documentElement.clientWidth;
      height = document.documentElement.clientHeight;
      
      // Position names on either side of center - names are centered with transform
      // so we position them in the middle of each half
      const logoWidth = 280; // approximate logo width
      const inset = 30; // tighter to logo
      
      // Left name: center of space between left edge and logo left edge
      const logoLeftEdge = (width / 2) - (logoWidth / 2);
      const leftCenterX = (logoLeftEdge + inset) / 2;
      
      // Right name: center of space between logo right edge and right edge
      const logoRightEdge = (width / 2) + (logoWidth / 2);
      const rightCenterX = logoRightEdge - inset + (width - logoRightEdge + inset) / 2;
      
      const centerY = height / 2;

      nameLeftEl.style.left = `${leftCenterX}px`;
      nameLeftEl.style.top = `${centerY}px`;
      nameRightEl.style.left = `${rightCenterX}px`;
      nameRightEl.style.top = `${centerY}px`;

      // Update descriptor position - centered between content and arrow
      const descriptor = document.getElementById("descriptor");
      const arrowTopY = height - 70; // arrow is at bottom: 30px, give some padding
      const isMobile = window.innerWidth <= 768;
      
      if (isMobile) {
        // On mobile, WALJI bottom is at ~50% - 50px + 2 lines (~80px)
        const waljiBottom = (height / 2) - 50 + 80;
        const descriptorY = waljiBottom + (arrowTopY - waljiBottom) / 2 - 15; // center the descriptor element
        descriptor.style.top = `${descriptorY}px`;
      } else {
        // On desktop, center between names (at 50%) and arrow
        const namesY = height / 2 + 20;
        const descriptorY = namesY + (arrowTopY - namesY) / 2;
        descriptor.style.top = `${descriptorY}px`;
      }
    }

    window.addEventListener('resize', updateNamePositions);
    updateNamePositions();

    // ===== Corner plus marks =====
    const cornerSvg = document.getElementById("cornerMarks");
    const plus = {
      TL: document.getElementById("plusTL"),
      TR: document.getElementById("plusTR"),
      BL: document.getElementById("plusBL"),
      BR: document.getElementById("plusBR"),
    };

    // Read values from CSS variables
    function getCornerValues() {
      const styles = getComputedStyle(document.documentElement);
      const inset = parseFloat(styles.getPropertyValue('--cornerInset'));
      const plusSize = parseFloat(styles.getPropertyValue('--plusSize'));
      return { inset, half: plusSize / 2 };
    }

    let cornerMouse = { x: 0, y: 0 };
    let hasMouseMoved = false;

    window.addEventListener("mousemove", (e) => {
      cornerMouse.x = e.clientX;
      cornerMouse.y = e.clientY;
      hasMouseMoved = true;
    });

    function setPlusGeometry(g, cx, cy, half) {
      const lines = g.querySelectorAll("line");
      const h = lines[0];
      const v = lines[1];

      h.setAttribute("x1", cx - half);
      h.setAttribute("y1", cy);
      h.setAttribute("x2", cx + half);
      h.setAttribute("y2", cy);

      v.setAttribute("x1", cx);
      v.setAttribute("y1", cy - half);
      v.setAttribute("x2", cx);
      v.setAttribute("y2", cy + half);
    }

    function rotateAroundCenter(g, deg, cx, cy) {
      g.setAttribute("transform", `rotate(${deg} ${cx} ${cy})`);
    }

    function updateCornerMarks() {
      const w = document.documentElement.clientWidth;
      const h = window.innerHeight;
      const { inset, half } = getCornerValues();

      cornerSvg.setAttribute("viewBox", `0 0 ${w} ${h}`);
      cornerSvg.style.height = h + 'px';

      const cxL = inset + half;
      const cxR = w - inset - half;
      const cyT = inset + half;
      const cyB = h - inset - half;

      setPlusGeometry(plus.TL, cxL, cyT, half);
      setPlusGeometry(plus.TR, cxR, cyT, half);
      setPlusGeometry(plus.BL, cxL, cyB, half);
      setPlusGeometry(plus.BR, cxR, cyB, half);

      // Don't rotate on mobile (no mouse)
      const isMobile = window.innerWidth <= 768;
      if (!hasMouseMoved || isMobile) {
        rotateAroundCenter(plus.TL, 0, cxL, cyT);
        rotateAroundCenter(plus.TR, 0, cxR, cyT);
        rotateAroundCenter(plus.BL, 0, cxL, cyB);
        rotateAroundCenter(plus.BR, 0, cxR, cyB);
        return;
      }

      const angDeg = (cx, cy) => (Math.atan2(cornerMouse.y - cy, cornerMouse.x - cx) * 180) / Math.PI;
      const rotTop = (cx, cy) => angDeg(cx, cy) - 90;
      const rotBot = (cx, cy) => angDeg(cx, cy) + 90;

      rotateAroundCenter(plus.TL, rotTop(cxL, cyT), cxL, cyT);
      rotateAroundCenter(plus.TR, rotTop(cxR, cyT), cxR, cyT);
      rotateAroundCenter(plus.BL, rotBot(cxL, cyB), cxL, cyB);
      rotateAroundCenter(plus.BR, rotBot(cxR, cyB), cxR, cyB);
    }

    window.addEventListener("resize", updateCornerMarks);
    
    // Handle mobile browser chrome changes (address bar show/hide)
    if (window.visualViewport) {
      window.visualViewport.addEventListener("resize", updateCornerMarks);
    }
    
    updateCornerMarks();

    window.cornerRunning = true;
    
    (function cornerRAF() {
      if (!window.cornerRunning) return;
      updateCornerMarks();
      requestAnimationFrame(cornerRAF);
    })();

    // Stop corner animations when header not visible
    const visibilityObserver = new IntersectionObserver((entries) => {
      const visible = entries[0].isIntersecting;
      if (visible && !window.cornerRunning) {
        window.cornerRunning = true;
        (function cornerRAF() {
          if (!window.cornerRunning) return;
          updateCornerMarks();
          requestAnimationFrame(cornerRAF);
        })();
      } else if (!visible) {
        window.cornerRunning = false;
      }
    }, { threshold: 0.01 });
    visibilityObserver.observe(document.getElementById('header'));

    // ===== Down Arrow =====
    const arrow = document.getElementById("downArrow");
    const arrowLeft = document.getElementById("arrowLeft");
    const arrowRight = document.getElementById("arrowRight");

    function updateArrow() {
      const w = 40;
      const h = 20;

      const cx = w / 2;
      const cy = h; // bottom point (tip of V)

      // Left arm
      arrowLeft.setAttribute("x1", cx);
      arrowLeft.setAttribute("y1", cy);
      arrowLeft.setAttribute("x2", cx - 10);
      arrowLeft.setAttribute("y2", cy - 10);

      // Right arm
      arrowRight.setAttribute("x1", cx);
      arrowRight.setAttribute("y1", cy);
      arrowRight.setAttribute("x2", cx + 10);
      arrowRight.setAttribute("y2", cy - 10);
    }

    updateArrow();
    
    // Nav and arrow click handlers with custom smooth scroll
    // SCROLL SPEED CONFIG: duration in milliseconds (lower = faster)
    const SCROLL_DURATION = 1200; // 1200ms = 1.2 seconds
    
    function smoothScrollTo(targetElement, duration) {
      const targetPosition = targetElement.getBoundingClientRect().top + window.pageYOffset;
      const startPosition = window.pageYOffset;
      const distance = targetPosition - startPosition;
      
      // Don't animate if already at target
      if (Math.abs(distance) < 1) return;
      
      let startTime = null;
      
      // Easing function - easeInOutCubic for smooth acceleration/deceleration
      function easeInOutCubic(t) {
        return t < 0.5 
          ? 4 * t * t * t 
          : 1 - Math.pow(-2 * t + 2, 3) / 2;
      }
      
      function animation(currentTime) {
        if (startTime === null) startTime = currentTime;
        const timeElapsed = currentTime - startTime;
        const progress = Math.min(timeElapsed / duration, 1);
        const easedProgress = easeInOutCubic(progress);
        
        window.scrollTo(0, startPosition + distance * easedProgress);
        
        if (timeElapsed < duration) {
          requestAnimationFrame(animation);
        }
      }
      
      requestAnimationFrame(animation);
    }
    
    document.querySelectorAll('.site-nav a').forEach(a => {
      a.addEventListener('click', (e) => {
        e.preventDefault();
        const href = a.getAttribute('href');
        console.log('Nav clicked:', href);
        
        // Update URL hash
        updateHash(href);
        
        let target;
        
        // Handle both #header and #home for the home link
        if (href === '#header' || href === '#home') {
          target = document.getElementById('header') || document.body;
          // Scroll to top of page
          smoothScrollTo(document.body, SCROLL_DURATION);
        } else if (href === '#about') {
          // Special handling for About - scroll to headerSpacer bottom position
          // since About section may be position:fixed
          const headerSpacer = document.getElementById('headerSpacer');
          if (headerSpacer) {
            const targetY = headerSpacer.offsetTop + headerSpacer.offsetHeight;
            // Create a temporary element at the target position for smoothScrollTo
            const startPosition = window.pageYOffset;
            const distance = targetY - startPosition;
            let startTime = null;
            
            function easeInOutCubic(t) {
              return t < 0.5 
                ? 4 * t * t * t 
                : 1 - Math.pow(-2 * t + 2, 3) / 2;
            }
            
            function animation(currentTime) {
              if (startTime === null) startTime = currentTime;
              const timeElapsed = currentTime - startTime;
              const progress = Math.min(timeElapsed / SCROLL_DURATION, 1);
              const easedProgress = easeInOutCubic(progress);
              
              window.scrollTo(0, startPosition + distance * easedProgress);
              
              if (timeElapsed < SCROLL_DURATION) {
                requestAnimationFrame(animation);
              }
            }
            
            requestAnimationFrame(animation);
          }
        } else {
          target = document.querySelector(href);
          console.log('Target element:', target);
          if (target) {
            console.log('Scrolling to:', target.id);
            smoothScrollTo(target, SCROLL_DURATION);
          }
        }
      });
    });
    
    arrow.style.pointerEvents = "auto";
    arrow.style.cursor = "pointer";
    arrow.addEventListener("click", () => {
      smoothScrollTo(document.getElementById("about"), SCROLL_DURATION);
    });

    // Nav indicator animation
    const navHome = document.getElementById("navHome");
    const navAbout = document.getElementById("navAbout");
    const navWork = document.getElementById("navWork");
    const homeIndicator = navHome.querySelector(".nav-indicator");
    const aboutIndicator = navAbout.querySelector(".nav-indicator");
    const workIndicator = navWork.querySelector(".nav-indicator");
    const homeText = navHome.querySelector(".nav-text");
    const aboutText = navAbout.querySelector(".nav-text");
    const workText = navWork.querySelector(".nav-text");
    
    let homeFullWidth, aboutFullWidth, workFullWidth;
    
    function measureAndSetIndicators() {
      // Get each text's actual width + 2px (1px each side)
      homeFullWidth = homeText.getBoundingClientRect().width + 2;
      aboutFullWidth = aboutText.getBoundingClientRect().width + 2;
      workFullWidth = workText.getBoundingClientRect().width + 2;
      
      // Set initial state based on current scroll position
      updateNavIndicators();
    }
    
    function updateNavIndicators() {
      if (!homeFullWidth || !aboutFullWidth || !workFullWidth) return;
      
      const aboutSectionEl = document.getElementById("about");
      const workSectionEl = document.getElementById("work");
      if (!aboutSectionEl || !workSectionEl) return;
      
      const aboutRect = aboutSectionEl.getBoundingClientRect();
      const workRect = workSectionEl.getBoundingClientRect();
      const windowHeight = window.innerHeight;
      
      // Calculate About progress (0 to 1)
      let aboutProgress = 0;
      if (aboutRect.top <= windowHeight && aboutRect.top >= 0) {
        aboutProgress = (windowHeight - aboutRect.top) / windowHeight;
      } else if (aboutRect.top < 0) {
        aboutProgress = 1;
      }
      aboutProgress = Math.max(0, Math.min(1, aboutProgress));
      
      // Calculate Work progress (0 to 1)
      let workProgress = 0;
      if (workRect.top <= windowHeight && workRect.top >= 0) {
        workProgress = (windowHeight - workRect.top) / windowHeight;
      } else if (workRect.top < 0) {
        workProgress = 1;
      }
      workProgress = Math.max(0, Math.min(1, workProgress));
      
      // Home indicator: full when on home, shrinks as About comes up
      homeIndicator.style.width = (homeFullWidth * (1 - aboutProgress)) + "px";
      
      // About indicator: grows as About comes up, shrinks as Work comes up
      if (workProgress > 0) {
        aboutIndicator.style.width = (aboutFullWidth * (1 - workProgress)) + "px";
      } else {
        aboutIndicator.style.width = (aboutFullWidth * aboutProgress) + "px";
      }
      
      // Work indicator: grows as Work comes up
      workIndicator.style.width = (workFullWidth * workProgress) + "px";
      
      // Update URL hash based on current section (but not when project is open)
      const projectOpen = document.querySelector('.project-detail.open');
      if (!projectOpen) {
        let currentHash = '#header';
        if (workProgress > 0.5) {
          currentHash = '#work';
        } else if (aboutProgress > 0.5) {
          currentHash = '#about';
        }
        if (window.location.hash !== currentHash) {
          updateHash(currentHash);
        }
      }
    }
    
    // Wait for fonts to load before measuring
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(() => {
        measureAndSetIndicators();
      });
    } else {
      // Fallback for browsers without font loading API
      window.addEventListener('load', measureAndSetIndicators);
    }
    
    // Also re-measure on resize in case font rendering changes
    window.addEventListener("resize", measureAndSetIndicators);
    
    // Update on scroll
    window.addEventListener("scroll", updateNavIndicators, { passive: true });

    // Pause corner animations during scroll
    let scrollTimeout;
    let isScrolling = false;
    
    window.addEventListener('scroll', () => {
      if (!isScrolling) {
        isScrolling = true;
        window.cornerRunning = false;
      }
      
      clearTimeout(scrollTimeout);
      scrollTimeout = setTimeout(() => {
        isScrolling = false;
        const headerRect = document.getElementById('header').getBoundingClientRect();
        if (headerRect.bottom > 0) {
          window.cornerRunning = true;
          (function restartCorner() {
            if (!window.cornerRunning) return;
            updateCornerMarks();
            requestAnimationFrame(restartCorner);
          })();
        }
      }, 100);
    }, { passive: true });
    // Size copyright logo to match "2026" width
    function sizeCopyrightLogo() {
      // Main copyright
      const copyrightEl = document.querySelector('.copyright');
      const spans = copyrightEl.querySelectorAll('span');
      const yearSpan = spans[1]; // "2026"
      const logo = copyrightEl.querySelector('.copyright-logo');
      
      const yearWidth = yearSpan.getBoundingClientRect().width;
      logo.style.width = yearWidth + 'px';
      logo.style.height = 'auto';
    }
    
    // Wait for fonts to load
    if (document.fonts && document.fonts.ready) {
      document.fonts.ready.then(sizeCopyrightLogo);
    } else {
      window.addEventListener('load', sizeCopyrightLogo);
    }
    
    window.addEventListener('resize', sizeCopyrightLogo);
  </script>
  
  <div id="headerSpacer"></div>

  <div id="pagesWrapper">
    <section id="about">
      <div class="about-container">
        <h1 class="about-title">About Me</h1>
        <div class="about-body">
          <p>I'm an ACD / Art Director based in Toronto with over a decade of full-time experience at agencies like FCB, Cossette, and The Hive. Over the last couple of years, I've been freelancing with shops including Anomaly, Sid Lee, 72andSunny Toronto, and others, and I'm currently working with Mekanism New York.</p>
          <p>I'm open to freelance opportunities and also considering full-time for the right fit.</p>
        </div>
      </div>
    </section>
    <div id="aboutPlaceholder" style="display:none; height:100vh;"></div>

    <section id="work">
      <div class="work-container">
        <h1 class="work-title">Work</h1>
        <div class="work-grid">
          <div class="work-item" style="background: #d9d9d9;"></div>
          <div class="work-item" style="background: #c9c9c9;"></div>
          <div class="work-item" style="background: #b9b9b9;"></div>
          <div class="work-item" style="background: #a9a9a9;"></div>
          <div class="work-item" style="background: #999999;"></div>
          <div class="work-item" id="project-heart-stroke" style="cursor: pointer; position: relative; overflow: hidden;">
            <video autoplay muted loop playsinline style="width: 100%; height: 100%; object-fit: cover; transform: scale(1.35);">
              <source src="/Images/TheUndeading.mp4" type="video/mp4">
            </video>
          </div>
          <div class="work-item" style="background: #797979;"></div>
          <div class="work-item" style="background: #696969;"></div>
          <div class="work-item" style="background: #595959;"></div>
        </div>
      </div>
    </section>
  </div>

  <!-- Project Detail: Heart & Stroke -->
  <div id="project-detail-heart-stroke" class="project-detail">
    <div class="project-detail-left">
      <div class="project-detail-header-mobile">
        <a href="#work" class="project-back" onclick="closeProjectDetail()">
          <svg class="project-back-arrow" viewBox="0 0 40 20">
            <polyline points="5,5 20,15 35,5"/>
          </svg>
          BACK TO WORK
        </a>
        
        <h1 class="project-title">Heart & Stroke</h1>
        <h2 class="project-subtitle">THE UNDEADING</h2>
      </div>
      
      <div class="project-detail-content-mobile" id="project-content-mobile">
        <p class="project-description">Every young soccer player dreams of playing on the same field as their heroes.<br><br>Following Toronto FC winning the 2017 MLS Cup, we moved the championship pitch from BMO Field to a youth recreation centre and replanted it, inspiring future generations to play like champions.</p>
        
        <div class="project-credits">
          <div class="project-credit-column">
            <span class="project-credit-label">RECOGNITION:</span>
            <span class="project-credit-list"><span>CASSIES</span><span>APPLIED ARTS</span><span>ADCC</span><span>MARKETING</span><span>W3</span><span>MEDIA INNOVATION</span><span>WARC TOP 100</span><span>AME</span><span>CMA</span></span>
          </div>
          <div class="project-credit-column">
            <span class="project-credit-label">PRESS:</span>
            <span class="project-credit-list"><span>MASHABLE</span><span>GIZMODO</span><span>CBS NEWS</span><span>FAST COMPANY</span><span>DAILY MAIL UNCRATE</span><span>HUFF POST</span><span>ADWEEK</span><span>ADAGE</span><span>CTV NEWS</span><span>GLOBAL NEWS</span></span>
          </div>
        </div>
        
        <svg class="project-down-arrow" viewBox="0 0 20 10">
          <line x1="0" y1="0" x2="10" y2="10"/>
          <line x1="10" y1="10" x2="20" y2="0"/>
        </svg>
      </div>
    </div>
    <div class="project-detail-right">
      <div class="project-media">
        <iframe src="https://player.vimeo.com/video/97123199?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="Heart &amp; Stroke Foundation - The Undeading"></iframe>
      </div>
      <div class="project-media" style="margin-top: 30px;">
        <iframe src="https://player.vimeo.com/video/97123199?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="Heart &amp; Stroke Foundation - The Undeading 2"></iframe>
      </div>
      <div class="project-media" style="margin-top: 30px;">
        <iframe src="https://player.vimeo.com/video/97123199?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="Heart &amp; Stroke Foundation - The Undeading 3"></iframe>
      </div>
      <div class="project-media" style="margin-top: 30px;">
        <iframe src="https://player.vimeo.com/video/97123199?badge=0&amp;autopause=0&amp;player_id=0&amp;app_id=58479" frameborder="0" allow="autoplay; fullscreen; picture-in-picture; clipboard-write; encrypted-media; web-share" referrerpolicy="strict-origin-when-cross-origin" title="Heart &amp; Stroke Foundation - The Undeading 4"></iframe>
      </div>
      <svg class="project-detail-arrow" viewBox="0 0 40 20">
        <line x1="20" y1="20" x2="10" y2="10"/>
        <line x1="20" y1="20" x2="30" y2="10"/>
      </svg>
    </div>
  </div>
  <script src="https://player.vimeo.com/api/player.js"></script>

  <script>
    // About and Work section fade-in based on scroll (runs after DOM ready)
    const aboutTitle = document.querySelector('.about-title');
    const aboutBody = document.querySelector('.about-body');
    const aboutSection = document.getElementById("about");
    const aboutContainer = document.querySelector('.about-container');
    
    const workTitle = document.querySelector('.work-title');
    const workGrid = document.querySelector('.work-grid');
    const workSection = document.getElementById("work");
    const workContainer = document.querySelector('.work-container');
    
    // Slide distance in pixels
    const slideDistance = 40;
    
    // Scale the about container based on viewport width
    function scaleAboutContent() {
      if (!aboutContainer) return;
      
      const viewportWidth = window.innerWidth;
      const margin = 55; // Same as menu left position
      // About section now uses CSS reflow instead of scaling
    }
    
    // Scale the work container based on viewport width - now handled by CSS
    function scaleWorkContent() {
      // Responsiveness now handled by CSS media queries
    }
    
    // Run on load and resize
    scaleWorkContent();
    window.addEventListener('resize', () => {
      scaleWorkContent();
    });
    
    function updateAboutFade() {
      if (!aboutTitle || !aboutBody || !aboutSection) return;
      
      const windowHeight = window.innerHeight;
      const placeholder = document.getElementById('aboutPlaceholder');
      
      // Get the scroll position where About should become fixed
      const headerSpacer = document.getElementById('headerSpacer');
      const headerSpacerBottom = headerSpacer.getBoundingClientRect().bottom;
      
      // About becomes fixed when headerSpacer bottom reaches top of viewport
      // Use a small threshold to prevent jitter at the exact transition point
      const shouldBeFixed = headerSpacerBottom <= 1;
      
      if (shouldBeFixed) {
        if (aboutSection.style.position !== 'fixed') {
          aboutSection.style.position = 'fixed';
          aboutSection.style.top = '0';
          aboutSection.style.left = '0';
          aboutSection.style.right = '0';
          aboutSection.style.bottom = '0';
          aboutSection.style.width = '100%';
          aboutSection.style.height = '100vh';
          placeholder.style.display = 'block';
        }
        
        // Fully visible - use full opaque gradient (not 'none' to avoid flicker)
        aboutTitle.style.webkitMaskImage = 'linear-gradient(to right, #000 0%, #000 100%)';
        aboutTitle.style.maskImage = 'linear-gradient(to right, #000 0%, #000 100%)';
        aboutTitle.style.transform = 'translateX(0)';
        
        aboutBody.style.webkitMaskImage = 'linear-gradient(to left, #000 0%, #000 100%)';
        aboutBody.style.maskImage = 'linear-gradient(to left, #000 0%, #000 100%)';
        aboutBody.style.transform = 'translateX(0)';
        return;
      } else {
        if (aboutSection.style.position !== 'relative') {
          aboutSection.style.position = 'relative';
          aboutSection.style.top = '';
          aboutSection.style.left = '';
          aboutSection.style.right = '';
          aboutSection.style.bottom = '';
          aboutSection.style.width = '';
          aboutSection.style.height = '';
          placeholder.style.display = 'none';
        }
      }
      
      // Get element positions
      const titleRect = aboutTitle.getBoundingClientRect();
      const bodyRect = aboutBody.getBoundingClientRect();
      
      // TITLE fade and slide
      // Element enters viewport when its top = windowHeight
      // Animation completes when headerSpacerBottom = 0
      // 
      // When title first enters: titleRect.top = windowHeight, headerSpacerBottom = some value X
      // When page at top: headerSpacerBottom = 0
      // 
      // The key insight: as we scroll, both titleRect.top and headerSpacerBottom decrease
      // We want progress to go from 0 to 1 as we scroll from "title entering" to "page at top"
      
      if (titleRect.top >= windowHeight) {
        // Title not yet in viewport
        aboutTitle.style.webkitMaskImage = 'linear-gradient(to right, transparent 0%, transparent 100%)';
        aboutTitle.style.maskImage = 'linear-gradient(to right, transparent 0%, transparent 100%)';
        aboutTitle.style.transform = `translateX(-${slideDistance}px)`;
      } else {
        // Title is in viewport
        // We need to track progress from when title FIRST entered viewport to when page hits top
        // 
        // When title first enters: titleRect.top = windowHeight, and headerSpacerBottom = X
        // When page hits top: headerSpacerBottom = 0
        //
        // The title enters the viewport when headerSpacerBottom is still positive
        // At that moment, headerSpacerBottom tells us how much scroll is left until page hits top
        //
        // Progress should be based on: how much of the remaining scroll have we done?
        // Remaining scroll at entry = headerSpacerBottom when title first entered
        // Current remaining scroll = headerSpacerBottom now
        
        // Since the content is centered, title enters when about section enters
        // About section enters when headerSpacerBottom < windowHeight
        // So: entry point is headerSpacerBottom = windowHeight
        // End point is headerSpacerBottom = 0
        
        // But title enters later than page edge - need to account for title's position within page
        // Title is roughly centered, so it enters when headerSpacerBottom â windowHeight/2
        
        // Simple approach: progress based on how far headerSpacerBottom has gone from windowHeight to 0
        // Clamped to start when title is actually in viewport
        
        let progress = 1 - (headerSpacerBottom / windowHeight);
        progress = Math.max(0, Math.min(1, progress));
        
        // Gradient reveal: constant width gradient that travels completely across
        // Gradient starts fully off-screen left, ends fully off-screen right
        const fadeWidth = 60;
        // Start further back so less content shows initially
        const revealPoint = -fadeWidth - 80 + (progress * (100 + fadeWidth + 80));
        
        const titleMask = `linear-gradient(to right, #000 0%, #000 ${revealPoint}%, transparent ${revealPoint + fadeWidth}%, transparent 100%)`;
        aboutTitle.style.webkitMaskImage = titleMask;
        aboutTitle.style.maskImage = titleMask;
        
        // Ensure transform is exactly 0 when progress is 1 to avoid jitter
        const titleSlide = progress >= 1 ? 0 : -slideDistance + (progress * slideDistance);
        aboutTitle.style.transform = `translateX(${titleSlide}px)`;
      }
      
      // BODY fade and slide
      if (bodyRect.top >= windowHeight) {
        // Body not yet in viewport
        aboutBody.style.webkitMaskImage = 'linear-gradient(to left, transparent 0%, transparent 100%)';
        aboutBody.style.maskImage = 'linear-gradient(to left, transparent 0%, transparent 100%)';
        aboutBody.style.transform = `translateX(${slideDistance}px)`;
      } else {
        // Body is in viewport - use same progress as title but can offset slightly if desired
        let progress = 1 - (headerSpacerBottom / windowHeight);
        progress = Math.max(0, Math.min(1, progress));
        
        // Gradient reveal from right to left
        // Gradient reveal: constant width gradient that travels completely across
        const fadeWidth = 60;
        // Start further back so less content shows initially
        const revealPoint = -fadeWidth - 80 + (progress * (100 + fadeWidth + 80));
        
        const bodyMask = `linear-gradient(to left, #000 0%, #000 ${revealPoint}%, transparent ${revealPoint + fadeWidth}%, transparent 100%)`;
        aboutBody.style.webkitMaskImage = bodyMask;
        aboutBody.style.maskImage = bodyMask;
        
        // Ensure transform is exactly 0 when progress is 1 to avoid jitter
        const bodySlide = progress >= 1 ? 0 : slideDistance - (progress * slideDistance);
        aboutBody.style.transform = `translateX(${bodySlide}px)`;
      }
    }
    
    // Update on scroll
    window.addEventListener("scroll", updateAboutFade, { passive: true });
    updateAboutFade();
    
    // Work section fade-in
    function updateWorkFade() {
      if (!workTitle || !workGrid || !workSection) return;
      
      const windowHeight = window.innerHeight;
      const workRect = workSection.getBoundingClientRect();
      const titleRect = workTitle.getBoundingClientRect();
      const gridRect = workGrid.getBoundingClientRect();
      
      // Check if Work section is fully visible (top at or above viewport top)
      const workFullyOpen = workRect.top <= 0;
      
      if (workFullyOpen) {
        // Fully visible - use full opaque gradient (not 'none' to avoid flicker)
        workTitle.style.webkitMaskImage = 'linear-gradient(to right, #000 0%, #000 100%)';
        workTitle.style.maskImage = 'linear-gradient(to right, #000 0%, #000 100%)';
        workTitle.style.transform = 'translateX(0)';
        
        workGrid.style.opacity = '1';
        return;
      }
      
      // Calculate progress based on Work section position
      // When workRect.top = windowHeight, progress = 0 (Work just entering)
      // When workRect.top = 0, progress = 1 (Work fully open)
      let progress = 1 - (workRect.top / windowHeight);
      progress = Math.max(0, Math.min(1, progress));
      
      // TITLE fade and slide
      if (titleRect.top >= windowHeight) {
        workTitle.style.webkitMaskImage = 'linear-gradient(to right, transparent 0%, transparent 100%)';
        workTitle.style.maskImage = 'linear-gradient(to right, transparent 0%, transparent 100%)';
        workTitle.style.transform = `translateX(-${slideDistance}px)`;
      } else {
        // Gradient reveal: constant width gradient that travels completely across
        const fadeWidth = 60;
        // Start further back so less content shows initially
        const revealPoint = -fadeWidth - 80 + (progress * (100 + fadeWidth + 80));
        
        const titleMask = `linear-gradient(to right, #000 0%, #000 ${revealPoint}%, transparent ${revealPoint + fadeWidth}%, transparent 100%)`;
        workTitle.style.webkitMaskImage = titleMask;
        workTitle.style.maskImage = titleMask;
        
        const titleSlide = -slideDistance + (progress * slideDistance);
        workTitle.style.transform = `translateX(${titleSlide}px)`;
      }
      
      // GRID fade only (no vertical movement)
      if (gridRect.top >= windowHeight) {
        workGrid.style.opacity = '0';
      } else {
        const gridPixelsInView = windowHeight - gridRect.top;
        const totalDistance = gridPixelsInView + workRect.top;
        
        let gridProgress = totalDistance > 0 ? gridPixelsInView / totalDistance : 1;
        gridProgress = Math.max(0, Math.min(1, gridProgress));
        
        workGrid.style.opacity = gridProgress;
      }
    }
    
    window.addEventListener("scroll", updateWorkFade, { passive: true });
    updateWorkFade();
    
    // Project Detail Page Functionality
    const projectHeartStroke = document.getElementById('project-heart-stroke');
    const projectDetailHeartStroke = document.getElementById('project-detail-heart-stroke');
    let scrollPosition = 0;
    
    projectHeartStroke.addEventListener('click', function() {
      // Save current scroll position
      scrollPosition = window.pageYOffset;
      
      projectDetailHeartStroke.classList.add('open');
      // Update URL hash
      updateHash('#work/theundeading');
      
      // Also reset the right panel scroll
      const rightPanel = projectDetailHeartStroke.querySelector('.project-detail-right');
      if (rightPanel) rightPanel.scrollTop = 0;
    });
    
    // Prevent main page scroll when project is open, and forward scroll to right panel
    window.addEventListener('wheel', function(e) {
      if (projectDetailHeartStroke.classList.contains('open')) {
        const rightPanel = projectDetailHeartStroke.querySelector('.project-detail-right');
        const leftPanel = projectDetailHeartStroke.querySelector('.project-detail-left');
        
        // If scrolling over left panel or anywhere outside right panel, forward to right panel
        if (leftPanel && leftPanel.contains(e.target)) {
          e.preventDefault();
          rightPanel.scrollTop += e.deltaY;
        } else if (!rightPanel.contains(e.target)) {
          e.preventDefault();
        }
      }
    }, { passive: false });
    
    window.addEventListener('scroll', function() {
      if (projectDetailHeartStroke.classList.contains('open')) {
        window.scrollTo(0, scrollPosition);
      }
    });
    
    function closeProjectDetail() {
      projectDetailHeartStroke.classList.remove('open');
      // Update URL hash back to work
      updateHash('#work');
      
      // Scroll to work section with same duration as nav
      const workSection = document.getElementById('work');
      smoothScrollTo(workSection, SCROLL_DURATION);
    }
    
    // Project detail arrow visibility
    const projectArrow = projectDetailHeartStroke.querySelector('.project-detail-arrow');
    const projectRightPanel = projectDetailHeartStroke.querySelector('.project-detail-right');
    
    function updateProjectArrow() {
      if (!projectRightPanel || !projectArrow) return;
      
      const hasScrollableContent = projectRightPanel.scrollHeight > projectRightPanel.clientHeight;
      const isAtBottom = projectRightPanel.scrollTop + projectRightPanel.clientHeight >= projectRightPanel.scrollHeight - 10;
      
      if (hasScrollableContent && !isAtBottom) {
        projectArrow.classList.add('visible');
      } else {
        projectArrow.classList.remove('visible');
      }
    }
    
    projectRightPanel.addEventListener('scroll', updateProjectArrow);
    
    // Update arrow when project opens
    const originalOpenHandler = projectHeartStroke.onclick;
    projectHeartStroke.addEventListener('click', function() {
      setTimeout(updateProjectArrow, 100);
    });
    
    // Close on escape key
    document.addEventListener('keydown', function(e) {
      if (e.key === 'Escape' && projectDetailHeartStroke.classList.contains('open')) {
        closeProjectDetail();
      }
    });
    
    // Open project page if URL hash matches on page load
    // Mobile content fade on scroll
    function updateMobileContentFade() {
      if (window.innerWidth > 768) return;
      if (!projectDetailHeartStroke.classList.contains('open')) return;
      
      const headerMobile = projectDetailHeartStroke.querySelector('.project-detail-header-mobile');
      const contentMobile = projectDetailHeartStroke.querySelector('.project-detail-content-mobile');
      const rightPanel = projectDetailHeartStroke.querySelector('.project-detail-right');
      if (!headerMobile || !contentMobile || !rightPanel) return;
      
      const headerRect = headerMobile.getBoundingClientRect();
      const fadeStart = headerRect.bottom; // Where fade begins (bottom of header)
      
      // Different fade distances for description vs credits
      const descFadeDistance = 140; // Slower fade for description
      const creditFadeDistance = 50; // Faster fade for credits
      
      // Get description
      const description = contentMobile.querySelector('.project-description');
      if (description) {
        const rect = description.getBoundingClientRect();
        const elementTop = rect.top;
        
        if (elementTop < fadeStart) {
          const distanceAbove = fadeStart - elementTop;
          const opacity = Math.max(0, 1 - (distanceAbove / descFadeDistance));
          description.style.opacity = opacity;
        } else {
          description.style.opacity = 1;
        }
      }
      
      // Get credit columns - start fading as soon as they enter the header zone
      const creditColumns = contentMobile.querySelectorAll('.project-credit-column');
      creditColumns.forEach(el => {
        const rect = el.getBoundingClientRect();
        const elementTop = rect.top;
        
        // Start fade when top of credit reaches fadeStart (header bottom)
        if (elementTop < fadeStart) {
          const distanceAbove = fadeStart - elementTop;
          const opacity = Math.max(0, 1 - (distanceAbove / creditFadeDistance));
          el.style.opacity = opacity;
        } else {
          el.style.opacity = 1;
        }
      });
      
      // Lock scroll when black area reaches header
      const rightPanelTop = rightPanel.getBoundingClientRect().top;
      if (rightPanelTop <= fadeStart) {
        const currentScroll = projectDetailHeartStroke.scrollTop;
        const overshoot = fadeStart - rightPanelTop;
        projectDetailHeartStroke.scrollTop = currentScroll - overshoot;
      }
    }
    
    projectDetailHeartStroke.addEventListener('scroll', updateMobileContentFade);
    window.addEventListener('resize', updateMobileContentFade);
    
    // Open project page if URL hash matches on page load
    if (window.location.hash === '#work/theundeading') {
      projectDetailHeartStroke.classList.add('open');
      document.body.style.overflow = 'hidden';
      document.body.style.position = 'fixed';
      document.body.style.top = '0';
      document.body.style.width = '100%';
    }
  </script>
</body>
</html>
